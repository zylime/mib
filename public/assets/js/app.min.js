"use strict";$.fn.AddFriends2=function(t){$(this);var e=$(this).find(".js-submit"),i=$(this).find(".js-checkbox"),n=($(this).find(".js-form"),$(".js-popup-add-friends"));i.on("click touch",function(){var t;"all"===$(this).attr("data-name")?$(this).hasClass("active")?i.each(function(){$(this).removeClass("active"),$(this).find("input").val("")}):i.each(function(){$(this).addClass("active"),$(this).find("input").val("selected")}):($(this).toggleClass("active"),t=$(this).hasClass("active")?"selected":"",$(this).find("input").val(t)),i.hasClass("active")?e.removeClass("disabled"):e.addClass("disabled")}),e.on("click touch",function(){$(this).hasClass("disabled")||(n.show(),$(".js-popup-cover").show())}),$(document).on("click touch",".js-popup-cover, .js-close-add-friends",function(t){t.stopPropagation(),n.hide(),$(".js-popup-cover").hide()})},$.fn.AddMedia=function(t){var s=$(this),o=s.find(".js-media").html(),c=(s.find(".js-media-one").html(),6);function i(){s.find(".js-media-display").addClass("hide").html("")}!function a(){s.find('.js-media input[type="file"]').removeAttr("capture"),s.find('.js-media-one input[type="file"]').removeAttr("capture"),s.find('.js-media input[type="file"]').on("change",function(){var t=this.files[0],e=this,i=new FileReader,n=$(this).parent().hasClass("uploaded");i.readAsDataURL(t),i.onload=function(){n||s.find('.js-media input[type="file"]').length<c&&(s.find(".js-media").append(o),a()),$(e).parent().addClass("uploaded"),$(e).parent().find(".media-img").remove(),$(e).parent().append('<img class="media-img" src="'+this.result+'" alt="" />')}}),s.find('.js-media-one input[type="file"]').on("change",function(){i();var t=this.files[0],e=new FileReader;e.readAsDataURL(t),e.onload=function(){s.find(".js-media-display").append('<div class="ic--mutiply remove-btn"></div><img class="media-img" src="'+this.result+'" alt="" />'),s.find(".js-media-display").removeClass("hide")}}),s.on("click",".remove-btn",function(){i()})}()},$.fn.AddProduct=function(t){var e=$(this),i=e.find("form"),n=e.find(".js-submit"),a=e.find(".js-add-new-product"),s=e.find(".js-promt-container"),o=e.find(".js-category-container"),c=e.find(".js-promt-container").html(),r=e.find(".js-category-container").html(),d=e.find(".js-product-container").html();function l(){e.find(".js-radio-group .js-radio-btn").on("click touch",function(){var t=$(this).parents(".js-radio-group");t.find(".js-radio-btn").removeClass("active"),t.find(".js-radio-btn input").prop("checked",!1),$(this).addClass("active"),$(this).find("input").prop("checked",!0)}),$(".js-invoice-radio-group .js-invoice-radio-btn").on("click touch",function(){$(this).hasClass("active")||$(this).parents(".js-invoice-radio-group").find(".js-invoice-radio-btn").toggleClass("active")}),e.find(".js-checkbox").on("click touch",function(){$(this).toggleClass("active")}),e.find(".js-remove-btn").on("click touch",function(){$(this).parents(".c-guide__add-product__list").remove(),a.show()}),n.on("click touch",function(){$('input[name="period"][value="yes"]').each(function(){$(this).prop("checked")?$(this).parents(".js-radio-group").find('input[name="period_number"]').prop("required",!0):$(this).parents(".js-radio-group").find('input[name="period_number"]').prop("required",!1)}),i.validate({rules:{productName:"required",price:"required"},messages:{productName:"",price:""},submitHandler:function(t){window.location.href="./67.html"}})})}l(),a.on("click touch",function(){$(".c-guide__add-product").length<10?($(d).appendTo(e.find(".js-product-container")),l()):a.hide()}),$(document).on("click touch",".js-collapse-btn",function(){$(this).parent(".collapse").toggleClass("active")}),$(document).on("click touch",".js-add-promt",function(){$(s).find(".js-remove-promt").removeClass("hide"),$(s).find(".js-add-promt").addClass("hide"),$(c).appendTo(s)}),$(document).on("click touch",".js-remove-promt",function(){$(this).parents(".js-promt-item").remove()}),$(document).on("click touch",".js-add-category",function(){$(o).find(".js-remove-category").removeClass("hide"),$(o).find(".js-add-category").addClass("hide"),$(r).appendTo(o)}),$(document).on("click touch",".js-remove-category",function(){$(this).parents(".js-category-item").remove()})},$.fn.Business=function(t){var e=$(this),i=e.find(".js-submit"),n=e.find("form");i.on("click touch",function(){n.validate({rules:{locationCountry:"required",locationCity:"required",launchLocation:"required",authorization:"required"},messages:{locationCountry:"不能为空",locationCity:"不能为空",launchLocation:"不能为空",authorization:"不能为空"},submitHandler:function(t){t.preventDefault()}})})},$.fn.Calender=function(t){var n=$(this).find(".js-calendar-container");!function(){for(var t=0;t<12;t++){var e=new Date,i=".js-calendar-"+(t+1);e.setDate(1),e.setMonth(e.getMonth()-6+t),n.append('<div class="c-calendar--block js-calendar js-calendar-'+(t+1)+'" data-time="'+e+'"></div>'),$(i).calendar({date:e,daysMin:["日","一","二","三","四","五","六"]})}n.append('<input type="hidden" name="selectDate" class="js-calendar-select-date">')}()},$.fn.Carousel=function(t){$(this).slick({infinite:!0,arrows:!1,dots:!1})},$.fn.Chat=function(t){var e=$(this),i=e.find(".js-insert-btn"),n=e.find(".js-input-popup");i.on("click touch",function(){var t=$(this).attr("data-open");$(this).hasClass("active")?(n.removeClass("active"),i.removeClass("active")):(i.removeClass("active"),$(this).addClass("active"),n.removeClass("active"),$('.js-input-popup[data-popup="'+t+'"]').addClass("active"))})},$.fn.Checkbox=function(t){$(this).find(".js-checkbox").on("click touch",function(){var t;$(this).toggleClass("active"),t=$(this).hasClass("active")?"selected":"",$(this).find("input").val(t)})},$.fn.Collapse=function(t){var a,s,o=$.extend({text:!1},t),c=$(this).find(".js-collapse-container"),e=$(this).find(".js-collapse-content"),r=$(this).find(".js-collapse-btn");o.text&&(a="阅读更多",s="收起");var d=c.height();!function(){var i,n=e.height();d<n&&(r.attr("data-expanded",!1).removeClass("hide"),o.text&&r.find("span").html(a),i=n);r.on("click",function(){var t="true"==$(this).attr("data-expanded")?"false":"true";if(c.animate({height:i+"px"}),r.attr("data-expanded",t),i=i==d?n:d,o.text){var e=$(this).find("span").html()==a?s:a;r.find("span").html(e)}})}()},$.fn.CompanyInfo=function(t){var e=$(this),i=e.find(".js-checkbox"),n=e.find(".js-project-experience");!function(){0<i.length&&i.each(function(){$(this).on("click touch",function(){i.each(function(){$(this).removeClass("active"),$(this).attr("data-checked",""),$(this).next().val("")}),$(this).addClass("active"),$(this).attr("data-checked","checked"),$(this).next().val("checked")})});0<n.length&&(t=n.html(),$(document).on("click touch",".js-add",function(){e.find(".js-add").length<10&&n.append(t)}),$(document).on("click touch",".js-remove-btn",function(){$(this).parents(".c-list--item").remove()}));var t}()},$.fn.datePickerRange=function(t){var e,i=$(this).find(".js-ui-datepicker-range");$(i).val(),i.datepicker({dateFormat:"yy/mm/dd",numberOfMonths:1,onSelect:function(t){$(this).data().datepicker.first?(t>$(this).data().datepicker.first?$(this).val($(this).data().datepicker.first+" - "+t):$(this).val(t+" - "+$(this).data().datepicker.first),$(this).data().datepicker.inline=!1,e=$(this).val()):($(this).data().datepicker.inline=!0,$(this).data().datepicker.first=t)},onClose:function(){$(".js-date-display").html(e),$(".display-date").addClass("active"),delete $(this).data().datepicker.first,$(this).data().datepicker.inline=!1}})},$.fn.datePicker=function(t){var e;$(this);e="1950:"+(e=(new Date).getFullYear()),$(".js-ui-datepicker-yymm").datepicker({changeMonth:!0,changeYear:!0,dateFormat:"yy-mm",yearRange:e,showButtonPanel:!0,currentText:"当月",onChangeMonthYear:function(t,e,i){$(this).val($.datepicker.formatDate("M yy",new Date(t,e-1,1)))},onClose:function(t,e){var i=$(".ui-datepicker-month :selected").val(),n=$(".ui-datepicker-year :selected").val();$(this).val($.datepicker.formatDate("M yy",new Date(n,i,1)))}}).focus(function(){$(".ui-datepicker-calendar").hide()})},$.fn.DeleteFriends=function(t){var n=$(this),a=$(this).find(".js-submit"),s=$(this).find(".js-checkbox"),o=$(this).find(".js-delete-group");s.on("click touch",function(){var t,e,i;$(this).toggleClass("active"),t=$(this).hasClass("active")?"selected":"",$(this).find("input").val(t),e=0,s.each(function(){$(this).hasClass("active")&&(e+=1)}),a.html("完成 ("+e+")"),i="",s.each(function(){if($(this).hasClass("active")){var t=$(this).attr("data-img"),e=$(this).attr("data-name");i+='<li class="txt--c"><img class="l-w--100p has-corner--50p" src="'+t+'" alt="'+e+'"/></li>',n.find(".js-delete-group ul").html(i)}}),0<n.find(".js-checkbox.active").length?o.show():(n.find(".js-delete-group ul").html(""),o.hide())}),a.on("click touch",function(){})},$(document).ready(function(){$(document).Popups(),$("[data-js-sign-in]").SignIn(),$("[data-js-sign-in-by-mobile]").SignInByMobile(),$("[data-js-sign-in-by-mobile]").MobileVerification(),$("[data-js-register]").Register(),$("[data-js-order-detail]").OrderDetail(),$("[data-js-prepay]").PrePay(),$("[data-js-payment-method]").PaymentMethod(),$("[data-js-home]").Home(),$("[data-js-project-list]").ProjectList(),$("[data-js-carousel]").Carousel(),$("[data-js-store-comments]").StoreComments(),$("[data-js-password]").TogglePsw(),$("[data-js-calendar]").Calender(),$("[data-js-forget-psw]").forgetPsw(),$("[data-js-add-friends-2]").AddFriends2(),$("[data-js-switch-control]").SwitchControl(),$("[data-js-select-friends]").SelectFriends(),$("[data-js-delete-friends]").DeleteFriends(),$("[data-js-group-members]").GroupMembers(),$("[data-js-group-owner]").GroupOwner(),$("[data-js-setting-user]").SettingUser(),$("[data-js-product-management]").ProductManagement(),$("[data-js-publish]").Publish(),$("[data-js-company-info]").CompanyInfo(),$("[data-js-product-info]").ProductInfo(),$("[data-js-chat]").Chat(),$("[data-js-select-and-count]").SelectAndCount(),$("[data-js-location]").SelectLocation(),$("[data-js-get-location]").GetLocation(),$("[data-js-select-country]").SelectCountry(),$("[data-js-get-country]").GetCountry(),$("[data-js-selected]").Selected(),$("[data-js-add-product]").AddProduct(),$("[data-js-more-menu]").MoreMenu(),$("[data-js-favorite]").Favorite(),$("[data-js-business]").Business(),$("[data-js-add-media]").AddMedia(),$("[data-js-checkbox]").Checkbox(),$("[data-js-radio-box]").RadioBox(),$("[data-js-get-language]").GetLanguage(),$("[data-js-select-language]").SelectLanguage(),$("[data-js-select-language-single]").SelectLanguageSingle(),$("[data-js-tab-panel]").TabPanel(),$("[data-js-collapse]").Collapse({text:!0}),$("[data-js-progress-bar]").ProgressBar(),$("[data-js-search]").Search(),$("[data-js-datepicker]").datePicker(),$("[data-js-datepickerRange]").datePickerRange(),$(".js-go-back").on("click touch",function(t){t.preventDefault(),window.history.go(-1)}),lightbox.option({resizeDuration:200,wrapAround:!0})}),$.fn.Favorite=function(t){$(this).find(".js-fav").on("click",function(){$(this).toggleClass("active"),$(this).find(".ic--fav").toggleClass("active")})},$.fn.forgetPsw=function(t){var i,n=$(this),a=$(this).find(".js-code"),s=$(this).find(".js-submit"),o=$(this).find(".js-forget-psw-form"),c=$(this).find(".js-error"),r=$(".js-popup-reset-psw");a.on("click touch",function(t){if(!$(this).hasClass("disabled"))if(""!==o.find('input[name="uid"]').val()){o.serializeJson();var e="http://mib.zengpan.org:8000/forget-psw?",i=o.serializeJson();i.uid=o.find('input[name="uid"]').val(),i._response={status:203,message:"有效用户名"},i.btn="getCAPTCHA",i=JSON.stringify(i),e+=i;var n=new XMLHttpRequest;n.open("GET",encodeURI(e),!0),n.onerror=n.onabort=n.ontimeout=function(t){console.log(t)},n.send(),n.onreadystatechange=function(){if(n.readyState==n.DONE&&200==n.status){var t,e=$.parseJSON(n.response).status;$.parseJSON(n.response).message,203==e?(c.hide(),function(){var t=60;a.attr("disabled","disabled"),a.addClass("disabled");var e=setInterval(function(){t-=1,a.html("重新发送 ("+t+")"),0==t&&(clearInterval(e),a.html("发送验证码"),a.removeAttr("disabled"),a.removeClass("disabled"))},1e3)}()):(200==e?t=$('input[name="forget-psw-200"]').val():202==e&&(t=$('input[name="forget-psw-202"]').val()),c.html(t),c.show())}}}else c.html($('input[name="forget-psw-201"]').val()),c.show()}),s.on("click touch",function(){o.validate({rules:{uid:"required",secureCode:"required",newPsw:{required:!0,minlength:6,maxlength:18},repeatPsw:{equalTo:"#newPsw"}},messages:{uid:$('input[name="forget-psw-201"]').val(),secureCode:$('input[name="forget-psw-210"]').val(),newPsw:{required:$('input[name="forget-psw-220"]').val(),minlength:$('input[name="forget-psw-222"]').val()},repeatPsw:{equalTo:$('input[name="forget-psw-221"]').val()}},submitHandler:function(){!function(){o.serializeJson();var t="http://mib.zengpan.org:8000/forget-psw?",e=o.serializeJson();console.log(e),e._response={status:100,message:"修改成功"},e=JSON.stringify(e),t+=e,console.log(e);var i=new XMLHttpRequest;i.open("GET",encodeURI(t),!0),i.onerror=i.onabort=i.ontimeout=function(t){console.log(t)},i.send(),i.onreadystatechange=function(){if(console.log("run onreadystatechange"),i.readyState==i.DONE&&200==i.status){var t,e=$.parseJSON(i.response).status;$.parseJSON(i.response).message,100==e?(c.hide(),r.show(),$(".js-popup-cover").show()):(211==e?t=$('input[name="forget-psw-211"]').val():200==e&&(t=$('input[name="forget-psw-200"]').val()),c.html(t),c.show())}}}()}})}),i=!1,n.find("input").on("keydown",function(){for(var t=n.find("input").length,e=0;e<t;e++){if(""==$(n.find("input")[e]).val()){i=!1;break}i=!0}i&&s.removeAttr("disabled")})},$.fn.GetCountry=function(t){var n=$(this);!function(){if(0<location.search.indexOf("country")){var t=(e=new RegExp("(^|&)"+"country"+"=([^&]*)(&|$)"),(i=window.location.search.substr(1).match(e))?decodeURIComponent(i[2]):null);n.find("input").val(t)}var e,i}()},$.fn.GetLanguage=function(t){var n=$(this);!function(){if(0<location.search.indexOf("lang")){var t=(e=new RegExp("(^|&)"+"lang"+"=([^&]*)(&|$)"),(i=window.location.search.substr(1).match(e))?decodeURIComponent(i[2]):null);n.find("input").val(t)}var e,i}()},$.fn.GetLocation=function(t){var n=$(this);!function(){if(0<location.search.indexOf("loc")){var t=(e=new RegExp("(^|&)"+"loc"+"=([^&]*)(&|$)"),(i=window.location.search.substr(1).match(e))?decodeURIComponent(i[2]):null);n.find("input").val(t)}var e,i}()},$.fn.GroupMembers=function(t){$(this);var e,i=$(this).find(".js-title"),n=$(this).find(".js-list");e=n.find("li").length-1,i.html(i.html()+"("+e+")")},$.fn.GroupOwner=function(t){$(this);var e=$(this).find(".js-submit"),i=$(this).find(".js-checkbox");i.on("click touch",function(){i.each(function(){$(this).removeClass("active"),$(this).find("input").val("")}),$(this).toggleClass("active"),$(this).find("input").val("selected")}),e.on("click touch",function(){})},$.fn.Home=function(t){$(this).find(".js-categories-slider").slick({dots:!1,infinite:!1,slidesToShow:4,arrows:!1})},$.fn.MobileVerification=function(){var a=$(this).find(".js-mobile-number"),s=$(".js-popup-code"),o=s.find(".js-popup-code-form"),t=s.find(".js-popup-code-submit"),c=s.find(".js-error");t.on("click touch",function(){var t="";s.find('input[name="phone"]').val(a.val()),s.find("input.js-code").each(function(){t+=$(this).val().toString()}),s.find('input[name="code"]').val(t),o.serializeJson();var e="http://mib.zengpan.org:8000/register?",i=o.serializeJson();i._response={status:100,message:"success"},i=JSON.stringify(i),e+=i;var n=new XMLHttpRequest;n.open("GET",encodeURI(e),!0),n.onerror=n.onabort=n.ontimeout=function(t){console.log(t)},n.send(),n.onreadystatechange=function(){if(n.readyState==n.DONE&&200==n.status){var t,e=$.parseJSON(n.response).status;$.parseJSON(n.response).message,100==e?(c.hide(),window.location.href="./index.html"):(200==e?t=$('input[name="mobile-signin-200"]').val():201==e?t=$('input[name="mobile-signin-201"]').val():210==e&&(t=$('input[name="mobile-signin-210"]').val()),c.html(t),c.show())}}})},$.fn.MoreMenu=function(t){var e=$(this),i=$(this).find(".js-open-menu"),n=$(this).find(".js-menu-dropdown");i.on("click touch",function(t){t.stopPropagation(),t.preventDefault(),e.toggleClass("active"),n.slideToggle()})},$.fn.OrderDetail=function(t){var e=$(this).find(".js-order-detail-checkbox"),i=$(this).find(".js-user-info p"),n=$(this).find('.js-user-info input[name="userName"]'),a=$(this).find('.js-user-info input[name="userId"]'),s=$(this).find(".js-user-info .js-btn");function o(){var t=n.val()+" "+a.val();i.html(t)}e.on("click touch",function(){var t=""==$(this).attr("data-value")?"checked":"";$(this).toggleClass("active"),$(this).attr("data-value",t),$(this).next().val(t)}),s.html(),o(),s.on("click touch",function(){n.toggle(),a.toggle(),i.toggle(),o()}),0<$(".js-datepicker").length&&$(".js-datepicker").dateRangePicker({language:"cn"})},$.fn.PaymentMethod=function(t){$(this);var e=$(this).find(".js-checkbox");e.each(function(){$(this).on("click touch",function(){e.each(function(){$(this).attr("data-checked","").removeClass("active"),$(this).prev().val("")}),$(this).addClass("active"),$(this).attr("data-checked","checked"),$(this).prev().val("checked")})})},$.fn.Popups=function(t){$(this);function e(t){(t=t).hide(),$(".js-popup-cover").hide()}$(document).on("click touch",".js-popup-cover, .js-close-popup-code",function(t){t.stopPropagation(),e($(".js-popup-code"))}),$(".js-popup-code-verification-btn").on("click touch",function(){var t=60,e=this;$(this).attr("disabled","disabled");var i=setInterval(function(){t-=1,$(e).html("重新发送 ("+t+")"),0==t&&(clearInterval(i),$(e).html("发送验证码"),$(e).removeAttr("disabled"))},1e3)}),$(".js-popup-code").find("input.js-code").each(function(t){var e=t;$(this).on("keydown",function(){1==$(this).val().length&&0<$($(".js-popup-code").find("input.js-code")[e+1]).length&&$($(".js-popup-code").find("input")[e+1]).focus()}),$(this).on("input.js-code",function(){!function(){for(var t=$(".js-popup-code").find("input.js-code").length,e=0;e<t&&0!=$($(".js-popup-code").find("input.js-code")[e]).val().length;e++)e==t-1&&$(".js-popup-code").find(".js-btn").removeClass("disabled")}()})}),$(document).on("click touch",".js-popup-cover, .js-close-register",function(t){t.stopPropagation(),e($(".js-popup-register"))}),$(document).on("click touch",".js-popup-cover",function(t){t.stopPropagation(),e($(".js-popup-reset-psw"))})},$.fn.PrePay=function(t){$(this);var e,i=$(this).find(".js-checkbox"),n=$(this).find(".js-price"),a=$(this).find(".js-total"),s="¥";i.on("click touch",function(){var t=""==$(this).attr("data-checked")?"checked":"";$(this).toggleClass("active"),$(this).attr("data-checked",t),$(this).prev().val(t)}),e=0,n.each(function(){var t=parseInt($(this).attr("data-price"));e+=t}),e=Number(e).toFixed(2),a.attr("data-price",e).html(s+e)},$.fn.ProductInfo=function(t){var s=$(this),e=s.find(".js-submit"),i=s.find("form"),o=s.find(".js-media").html(),c=6;(function a(){s.find('.js-media input[type="file"]').removeAttr("capture"),s.find('.js-media input[type="file"]').on("change",function(){var t=this.files[0],e=this,i=new FileReader,n=$(this).parent().hasClass("uploaded");i.readAsDataURL(t),i.onload=function(){n||s.find('.js-media input[type="file"]').length<c&&(s.find(".js-media").append(o),a()),$(e).parent().addClass("uploaded"),$(e).parent().find(".media-img").remove(),$(e).parent().append('<img class="media-img" src="'+this.result+'" alt="" />')}})})(),e.on("click touch",function(){i.validate({rules:{productTitle:"required",productDescription:"required",productProgress:"required",productSize:"required",productLanguage:"required"},messages:{productTitle:"不能为空",productDescription:"不能为空",productProgress:"不能为空",productSize:"不能为空",productLanguage:"不能为空"},submitHandler:function(t){}})}),s.on("click touch",".js-remove-media",function(){$(this).parent(".item.uploaded").remove()})},$.fn.ProductManagement=function(t){$(this);var e=$(this).find(".js-more"),i=$(".js-product-management-more-popup"),n=$(".js-cover");function a(){i.hide(),n.hide()}e.each(function(){$(this).on("click touch",function(){var t,e=$(this).attr("data-status");t=e,i.find("a.item").each(function(){0<=$(this).attr("data-display").indexOf(t)?$(this).show():$(this).hide()}),i.show(),n.show()})}),n.on("click touch",function(){a()}),i.find(".js-cancel").on("click touch",function(){a()})},$.fn.ProgressBar=function(t){var e=$(this);$(this).find(".js-progress-bar"),$(this).find(".js-progress-number");e.each(function(){var t=$(this).find(".js-progress-number").attr("data-number");console.log(t),$(this).find(".js-progress-bar").css({width:t+"%"})})},$.fn.ProjectList=function(t){var e=$(this).find(".js-categories-slider"),i=$(this).find(".js-favorite");e.slick({dots:!1,infinite:!1,slidesToShow:3,arrows:!1}),i.each(function(){$(this).on("click touch",function(t){t.preventDefault(),t.stopPropagation(),$(this).toggleClass("active")})})},$.fn.Publish=function(t){var o=$(this),e=o.find(".js-checkbox"),i=o.find(".js-checkbox-multiple"),n=o.find(".js-project-experience"),c=o.find(".js-type"),r=o.find(".js-selected-type"),d=o.find('input[name="type"]'),l=o.find(".js-submit"),u=o.find("form");function h(t,e,i,n,a){var s=t,o=e,c=$('input[name="url"]').val();n&&a?c=c+"?t2="+s+"&val="+o+"&show="+i+"&option1="+(n=n)+"&option2="+(a=a):c=c+"?t2="+s+"&val="+o+"&show="+i;window.location.href=c}!function(){0<e.length&&e.each(function(){$(this).on("click touch",function(){e.each(function(){$(this).removeClass("active"),$(this).attr("data-checked",""),$(this).next().val("")}),$(this).addClass("active"),$(this).attr("data-checked","checked"),$(this).next().val("checked")})});0<i.length&&i.each(function(){$(this).on("click touch",function(){var t="checked"==$(this).attr("data-checked")?"":"checked",e="checked"==t;$(this).toggleClass("active"),$(this).attr("data-checked",t),$(this).find("input").prop("checked",e)})});(function(){var t=location.href,e=[],i=!1,n=!1;if(0<=t.indexOf("?")&&0<=t.indexOf("t2")){for(var a=location.search.replace("?","").split("&"),s=0;s<a.length;s++)e.push(a[s].split("="));r.html(decodeURIComponent(e[1][1])),d.val(e[0][1]),r.removeClass("hide"),4<=e.length&&(i=e[3][1]),5==e.length&&(n=e[4][1]),function(t,e,i){if("1"==(t=t))$(".js-show-game").removeClass("hide");else if($(".js-show-other").removeClass("hide"),e&&(console.log(e),$('[data-show="'+e+'"]').removeClass("hide")),i)switch(i){case"input":$(".js-option2-input").removeClass("hide");break;case"select":$(".js-option2-select").removeClass("hide")}$(".js-next").removeClass("hide"),$(".js-show-game").hasClass("hide")?l.unbind("click touch").on("click touch",function(){u.validate({rules:{typeOptions:"required",keywordsOptions:"required"},messages:{typeOptions:"不能为空",keywordsOptions:"不能为空"},submitHandler:function(t){window.location.href="/add-product-detail.html"}})}):l.unbind("click touch").on("click touch",function(){u.validate({rules:{gameType:"required",gameName:"required",companyName:"required"},messages:{gameType:"不能为空",gameName:"不能为空",companyName:"不能为空"},submitHandler:function(t){window.location.href="/product-info.html"}})})}(e[2][1],i,n)}})(),0<n.length&&(t=n.html(),o.find(".js-add").on("click touch",function(){o.find(".js-add").length<10&&n.append(t)}),o.find(".js-remove-btn").on("click touch",function(){$(this).parents(".c-list--item").remove()}));var t;0<c.length&&(c.find(".js-type-heading").on("click touch",function(){var t=$(this).attr("data-category"),e=$(this).html(),i=$(this).attr("data-show");0<$('[data-type-category="'+t+'"]').length?$('[data-type-category="'+t+'"]').stop().slideToggle():(c.removeClass("selected"),o.find(".js-type-option").removeClass("selected"),$(this).parent().addClass("selected"),h(t,e,i))}),c.find(".js-type-option").on("click touch",function(t){var e=$(this).attr("data-type-option"),i=$(this).attr("data-type-option"),n=$(this).attr("data-option2"),a=$(this).find("span").html(),s=$(this).attr("data-show");c.removeClass("selected"),o.find(".js-type-option").removeClass("selected"),$(this).addClass("selected"),$(this).parents(".js-type").addClass("selected"),h(e,a,s,i,n)}))}()},$.fn.RadioBox=function(t){var e=$(this).find(".js-checkbox");e.on("click touch",function(){e.each(function(){$(this).removeClass("active"),$(this).find("input").val("")}),$(this).toggleClass("active"),$(this).find("input").val("selected")})},$.fn.Register=function(t){$(this);var i,e=$(this).find(".js-checkbox"),n=$(this).find(".js-register-form"),a=$(this).find(".js-register-btn"),o=$(this).find(".js-error"),c=$(".js-popup-verify-email"),r=c.find(".js-verify-btn"),d=c.find(".js-resend-btn"),l=c,u=c.find(".js-error"),h=$(".js-popup-code"),f=h.find(".js-popup-code-form"),p=h.find(".js-popup-code-submit"),m=h.find(".js-error"),s=$(".js-popup-register");function v(){var t=60;d.attr("disabled","disabled");var e=setInterval(function(){t-=1,d.html("重新发送 ("+t+")"),0==t&&(clearInterval(e),d.html("发送验证码"),d.removeAttr("disabled"))},1e3)}function g(t){(t=t).show(),$(".js-popup-cover").show()}function j(t){(t=t).hide(),$(".js-popup-cover").hide()}function k(){j(c),j(h),g(s),s.find("a").on("click touch",function(){window.location.href="./index.html"}),setTimeout(function(){window.location.href="./index.html"},5e3)}e.on("click touch",function(){var t=$(this).hasClass("checked")?"false":"true";$(this).toggleClass("checked"),$(this).find("input").val(t)}),i=!1,n.find("input").on("keydown",function(){for(var t=n.find("input").length,e=0;e<t;e++){if(""==$(n.find("input")[e]).val()){i=!1;break}i=!0}i&&a.removeAttr("disabled")}),a.on("click touch",function(t){n.validate({rules:{name:"required",email_mobile:"required",pwd:{required:!0,minlength:6}},messages:{user:$('input[name="register-230"]').val(),email_mobile:$('input[name="register-210"]').val(),pwd:{required:$('input[name="register-220"]').val(),minlength:$('input[name="register-221"]').val()}},submitHandler:function(t){var e=n.find('input[name="email_mobile"]').val();a.attr("disabled"),$(".js-loading").show(),function(a){var a=a,t=(n.serializeJson(),"http://mib.zengpan.org:8000/register?"),e=n.serializeJson();e._response={status:213,message:"手机号不可用"},e=JSON.stringify(e),t+=e;var s=new XMLHttpRequest;s.open("GET",encodeURI(t),!0),s.onerror=s.onabort=s.ontimeout=function(t){console.log(t)},s.send(),s.onreadystatechange=function(){if(s.readyState==s.DONE&&($(".js-loading").hide(),200==s.status)){var t=$.parseJSON(s.response).status,e=$.parseJSON(s.response).message;100==t?(o.hide(),0<a.indexOf("@")?(n=n=a,c.find(".js-display-email").html(n),c.find('input[name="userEmail"]').val(n),g(c),v(),d.on("click touch",function(t){t.preventDefault(),v()}),r.on("click touch",function(t){t.preventDefault(),l.serializeJson();var e=l.serializeJson(),i="http://mib.zengpan.org:8000/register?";e._response={status:100,message:"验证成功"},e=JSON.stringify(e),i+=e;var n=new XMLHttpRequest;n.open("GET",encodeURI(i),!0),n.onerror=n.onabort=n.ontimeout=function(t){console.log(t)},n.send(),n.onreadystatechange=function(){if(n.readyState==n.DONE&&200==n.status){var t,e=$.parseJSON(n.response).status;$.parseJSON(n.response).message,100==e?(u.hide(),k()):(200==e&&(t=$('input[name="register-email-200"]').val()),u.html(t),u.show())}}}),$(document).on("click touch",".js-popup-cover, .js-close-verify-email",function(t){t.stopPropagation(),j(c)})):(i=i=a,h.find('input[name="phone"]').val(i),g(h),p.on("click touch",function(){var t="";h.find("input.js-code").each(function(){t+=$(this).val().toString()}),h.find('input[name="code"]').val(t),f.serializeJson();var e="http://mib.zengpan.org:8000/register?",i=f.serializeJson();i._response={status:100,message:"验证成功"},i=JSON.stringify(i),e+=i;var n=new XMLHttpRequest;n.open("GET",encodeURI(e),!0),n.onerror=n.onabort=n.ontimeout=function(t){console.log(t)},n.send(),n.onreadystatechange=function(){if(n.readyState==n.DONE&&200==n.status){var t,e=$.parseJSON(n.response).status;$.parseJSON(n.response).message,100==e?(m.hide(),k()):(200==e&&(t=$('input[name="register-mobile-200"]').val()),m.html(t),m.show())}}}))):(210==t?$('input[name="register-210"]').val():211==t?$('input[name="register-211"]').val():212==t?$('input[name="register-212"]').val():213==t?$('input[name="register-213"]').val():214==t?$('input[name="register-214"]').val():215==t?$('input[name="register-215"]').val():220==t?$('input[name="register-220"]').val():221==t?$('input[name="register-221"]').val():222==t?$('input[name="register-222"]').val():223==t?$('input[name="register-223"]').val():230==t?$('input[name="register-230"]').val():231==t?$('input[name="register-231"]').val():232==t?$('input[name="register-232"]').val():233==t&&$('input[name="register-233"]').val(),o.html(e),o.show())}var i,n}}(e)}})})},$.fn.Scan=function(t){var n;$(this);n=null,window.addEventListener("DOMContentLoaded",function(){try{document.getElementById("canvas").getContext("2d"),n=document.getElementById("video");var t={video:!0,audio:!1},e=!0,i=function(t){e=!1,t.PERMISSION_DENIED?alert("用户拒绝了浏览器请求媒体的权限","提示"):t.NOT_SUPPORTED_ERROR?alert("对不起，您的浏览器不支持拍照功能，请使用其他浏览器","提示"):t.MANDATORY_UNSATISFIED_ERROR?alert("指定的媒体类型未接收到媒体流","提示"):alert("系统未能获取到摄像头，请确保摄像头已正确安装。或尝试刷新页面，重试","提示")};if(navigator.getUserMedia){if(-1<navigator.userAgent.indexOf("MQQBrowser"))return alert("对不起，您的浏览器不支持拍照功能，请使用其他浏览器","提示"),!1;navigator.getUserMedia(t,function(t){n.src=t,n.play()},i)}else if(navigator.webkitGetUserMedia)navigator.webkitGetUserMedia(t,function(t){n.src=window.webkitURL.createObjectURL(t),n.play()},i);else if(navigator.mozGetUserMedia)navigator.mozGetUserMedia(t,function(t){n.src=window.URL.createObjectURL(t),n.play()},i);else{if(!navigator.msGetUserMedia)return alert("对不起，您的浏览器不支持拍照功能，请使用其他浏览器"),!1;navigator.msGetUserMedia(t,function(t){$(document).scrollTop($(window).height()),n.src=window.URL.createObjectURL(t),n.play()},i)}e&&alert("为了获得更准确的测试结果，请尽量将二维码置于框中，然后进行拍摄、扫描。 请确保浏览器有权限使用摄像功能")}catch(t){printHtml("浏览器不支持HTML5 CANVAS")}},!1)},$.fn.Search=function(t){var e,i,n,a,s=$(this).find(".js-clear-btn"),o=$(this).find(".js-result-container"),c=$(this).find(".js-history-view-more");s.on("click touch",function(t){o.html(""),c.addClass("hide"),$(".js-history-view-more").attr("data-expanded","false").html("更多")}),156<(a=$(".js-history-list").height())&&(i="更多",$(".js-history-view-more").html(i),$(".js-history-view-more").removeClass("hide"),e=a),$(".js-history-view-more").on("click",function(){n="true"==$(this).attr("data-expanded")?"false":"true",$(".js-history-box").animate({height:e+"px"}),$(this).attr("data-expanded",n),e=156==e?a:156,i="更多"==i?"收起":"更多",$(".js-history-view-more").html(i)})},$.fn.SelectAndCount=function(t){var e=$(this),i=e.find(".js-complete"),n=e.find(".js-selection"),a=i.html();n.on("click touch",function(){var t;$(this).toggleClass("active"),0!==(t=e.find(".js-selection.active").length)?i.html(a+"("+t+")"):i.html(a)})},$.fn.SelectCountry=function(t){var e,i=$(this),n=i.find(".js-complete"),a=i.find(".js-selection");i.find(".js-selected"),n.html();a.on("click touch",function(){var t;i.find(".js-selection.active").each(function(){void 0===t?t=$(this).find("[data-country]").attr("data-country"):t+=", "+$(this).find("[data-country]").attr("data-country")}),e="country="+t}),n.on("click touch",function(){window.location.href="./setting-user.html?"+e})},$.fn.SelectFriends=function(t){var n=$(this),a=$(this).find(".js-submit"),s=$(this).find(".js-checkbox"),o=$(this).find(".js-select-group");s.on("click touch",function(){var t,e,i;$(this).toggleClass("active"),t=$(this).hasClass("active")?"selected":"",$(this).find("input").val(t),e=0,s.each(function(){$(this).hasClass("active")&&(e+=1)}),a.html("完成 ("+e+")"),i="",s.each(function(){if($(this).hasClass("active")){var t=$(this).attr("data-img"),e=$(this).attr("data-name");i+='<li class="txt--c"><img class="l-w--100p has-corner--50p" src="'+t+'" alt="'+e+'"/></li>',n.find(".js-select-group ul").html(i)}}),0<n.find(".js-checkbox.active").length?o.show():(n.find(".js-select-group ul").html(""),o.hide())}),a.on("click touch",function(){})},$.fn.SelectLanguageSingle=function(t){var e=$(this),i=e.find(".js-complete"),n=e.find(".js-selection"),a=e.find(".js-selected");i.html();n.on("click touch",function(){var t=$(this).find("c-select-country-language--item--name").html();n.removeClass("active"),$(this).toggleClass("active"),a.find("c-select-country-language--item--name").html(t),a.removeClass("hide");$(this).find("[data-language]").attr("data-language")}),i.on("click touch",function(){window.location.href="./51.html"}),n.find('[data-location="简体中文"]').click()},$.fn.SelectLanguage=function(t){var e,i=$(this),n=$(this).find(".js-complete");i.find(".js-selection").on("click touch",function(){var t;i.find(".js-selection.active").each(function(){void 0===t?t=$(this).find("[data-language]").attr("data-language"):t+=", "+$(this).find("[data-language]").attr("data-language")}),e="lang="+t}),n.on("click touch",function(){window.location.href="./setting-user.html?"+e})},$.fn.SelectLocation=function(t){var i,e=$(this),n=e.find(".js-complete"),a=e.find(".js-selection"),s=e.find(".js-selected");n.html();a.on("click touch",function(){var t=$(this).find(".c-location--item--name").html();a.removeClass("active"),$(this).toggleClass("active"),s.find(".c-location--item--name").html(t),s.removeClass("hide");var e=$(this).find("[data-location]").attr("data-location");i="loc="+e,console.log(i)}),n.on("click touch",function(){window.location.href="./setting-user.html?"+i}),a.find('[data-location="中国"]').click()},$.fn.Selected=function(t){var e=$(this).find(".js-categories-slider"),i=$(this).find(".js-favorite");e.slick({dots:!1,infinite:!1,slidesToShow:5,arrows:!1}),i.each(function(){$(this).on("click touch",function(t){t.preventDefault(),t.stopPropagation(),$(this).toggleClass("active")})})},$.fn.serializeJson=function(){var t={},e=this.serializeArray();return $(e).each(function(){t[this.name]?$.isArray(t[this.name])?t[this.name].push(this.value):t[this.name]=[t[this.name],this.value]:t[this.name]=this.value}),t},$.fn.SettingUser=function(t){var e,i=$(this),n=i.find(".js-input-file"),a=i.find(".js-birthday"),s=i.find(".js-astro");n.removeAttr("capture"),e="1950:"+(e=(new Date).getFullYear()),a.datepicker({changeMonth:!0,changeYear:!0,yearRange:e}),a.on("change",function(){var t,e=new Date($(this).val()),i=e.getMonth()+1,n=e.getDate();s.html("摩羯座水瓶座双鱼座白羊座金牛座双子座巨蟹座狮子座处女座天秤座天蝎座射手座魔羯座".substr(3*(t=i)-(n<[20,19,21,21,21,22,23,23,23,23,22,22][t]?3:0),3))})},$.fn.SignInByMobile=function(t){var e=$(this).find(".js-open-popup-code"),i=$(this).find(".js-form");i.find(".js-error");e.on("click touch",function(){i.validate({rules:{uid:"required"},messages:{uid:$('input[name="mobile-signin-201"]').val()},submitHandler:function(t){$(".js-popup-code").show(),$(".js-popup-cover").show()}})})},$.fn.SignIn=function(t){$(this);var n=$(this).find(".js-sign-in-form"),e=$(this).find(".js-dropdown-body"),i=$(this).find(".js-dropdown-body .js-remove"),a=$(this).find(".js-dropdown-btn"),s=$(this).find(".js-sign-in-submit"),o=n.find(".js-error");a.on("click touch",function(){0==!e.find("li").length&&e.slideToggle()}),$(document).on("click touch",function(t){t.stopPropagation(),$(t.target).parents(".c-sign-in--form").length<=0&&e.slideUp()}),i.each(function(){$(this).on("click touch",function(t){$(this).parents("li").remove(),0==e.find("li").length&&e.slideToggle()})}),e.find("span").on("click touch",function(){var t=$(this).html();e.siblings("input").val(t)}),s.on("click touch",function(t){n.validate({rules:{user:"required",pwd:"required"},messages:{user:$('input[name="signin-200"]').val(),pwd:$('input[name="signin-202"]').val()},submitHandler:function(){!function(){n.serializeJson();var t="http://mib.zengpan.org:8000/signin?",e=n.serializeJson();e._response={status:100,message:"登陆成功"},e=JSON.stringify(e),t+=e;var i=new XMLHttpRequest;i.open("GET",encodeURI(t),!0),i.onerror=i.onabort=i.ontimeout=function(t){console.log(t)},i.send(),i.onreadystatechange=function(){if(i.readyState==i.DONE&&200==i.status){var t,e=$.parseJSON(i.response).status;$.parseJSON(i.response).message,100==e?(o.hide(),window.location.href="./index.html"):(200==e?t=$('input[name="signin-200"]').val():201==e?t=$('input[name="signin-201"]').val():202==e&&(t=$('input[name="signin-202"]').val()),o.html(t),o.show())}}}()}})})},$.fn.StoreComments=function(t){$(this).find(".js-comments-body")},$.fn.SwitchControl=function(t){$(this);$(this).find(".js-checkbox").on("click touch",function(t){$(this).toggleClass("checked")})},$.fn.TabPanel=function(t){var i=$(this),n=$(this).find(".js-tab-menu"),a=$(this).find(".js-tab-panel");n.on("click touch",function(t){t.stopPropagation();var e=$(this).attr("data-tab-index");n.removeClass("active"),a.removeClass("active"),$(this).addClass("active"),i.find(".js-tab-panel[data-panel-index="+e+"]").addClass("active")})},$.fn.TogglePsw=function(t){var e=$(this).find(".js-psw-input"),i=$(this).find(".js-psw-eye");i.on("click touch",function(){var t="password"==e.attr("type")?"text":"password";i.toggleClass("close"),e.attr("type",t)})};