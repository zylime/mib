"use strict";$.fn.Carousel=function(t){$(this).slick({infinite:!0,arrows:!1,dots:!1})},$.fn.Collapse=function(t){var s,n,a=$.extend({text:!1},t),c=$(this).find(".js-collapse-container"),e=$(this).find(".js-collapse-content"),r=$(this).find(".js-collapse-btn");a.text&&(s="阅读更多",n="收起");var h=c.height();!function(){var i,o=e.height();h<o&&(r.attr("data-expanded",!1).removeClass("hide"),a.text&&r.find("span").html(s),i=o);r.on("click",function(){var t="true"==$(this).attr("data-expanded")?"false":"true";if(c.animate({height:i+"px"}),r.attr("data-expanded",t),i=i==h?o:h,a.text){var e=$(this).find("span").html()==s?n:s;r.find("span").html(e)}})}()},$(document).ready(function(){$(".js-categories-slider").slick({dots:!1,infinite:!1,slidesToShow:4,arrows:!1}),$(document).Popups(),$("[data-js-register]").Register(),$("[data-js-order-detail]").OrderDetail(),$("[data-js-prepay]").PrePay(),$("[data-js-payment-method]").PaymentMethod(),$("[data-js-collapse]").Collapse({text:!0}),$("[data-js-carousel").Carousel(),$("[data-js-search]").Search(),lightbox.option({resizeDuration:200,wrapAround:!0})}),$.fn.OrderDetail=function(t){var e=$(this).find(".js-order-detail-checkbox"),i=$(this).find(".js-user-info p"),o=$(this).find('.js-user-info input[name="userName"]'),s=$(this).find('.js-user-info input[name="userId"]'),n=$(this).find(".js-user-info .js-btn");function a(){var t=o.val()+" "+s.val();i.html(t)}e.on("click touch",function(){var t=""==$(this).attr("data-value")?"checked":"";$(this).toggleClass("active"),$(this).attr("data-value",t),$(this).next().val(t)}),n.html(),a(),n.on("click touch",function(){o.toggle(),s.toggle(),i.toggle(),a()})},$.fn.PaymentMethod=function(t){$(this);var e=$(this).find(".js-checkbox");e.each(function(){$(this).on("click touch",function(){e.each(function(){$(this).attr("data-checked","").removeClass("active"),$(this).prev().val("")}),$(this).addClass("active"),$(this).attr("data-checked","checked"),$(this).prev().val("checked")})})},$.fn.Popups=function(t){$(this);function e(t){(t=t).show(),$(".js-popup-cover").show()}function i(t){(t=t).hide(),$(".js-popup-cover").hide()}$(document).on("click touch",".js-open-popup-code",function(t){t.stopPropagation(),e($(".js-popup-code"))}),$(document).on("click touch",".js-popup-cover, .js-close-popup-code",function(t){t.stopPropagation(),i($(".js-popup-code"))}),$(document).on("click touch",".js-popup-cover, .js-close-register",function(t){t.stopPropagation(),i($(".js-popup-register"))}),$(document).on("click touch",".js-register-btn",function(t){t.stopPropagation(),e($(".js-popup-verify-email"))}),$(document).on("click touch",".js-popup-cover, .js-close-verify-email",function(t){t.stopPropagation(),i($(".js-popup-verify-email"))}),$(document).on("click touch",".js-popup-cover",function(t){t.stopPropagation(),i($(".js-popup-reset-psw"))})},$.fn.PrePay=function(t){$(this);$(this).find(".js-checkbox").on("click touch",function(){var t=""==$(this).attr("data-checked")?"checked":"";$(this).toggleClass("active"),$(this).attr("data-checked",t),$(this).prev().val(t)})},$.fn.Register=function(t){$(this);$(this).find(".js-checkbox").on("click touch",function(){$(this).toggleClass("checked")})},$.fn.Search=function(t){var e,i,o,s,n=$(this).find(".js-clear-btn"),a=$(this).find(".js-result-container"),c=$(this).find(".js-history-view-more");n.on("click touch",function(t){a.html(""),c.addClass("hide"),$(".js-history-view-more").attr("data-expanded","false").html("更多")}),156<(s=$(".js-history-list").height())&&(i="更多",$(".js-history-view-more").html(i),$(".js-history-view-more").removeClass("hide"),e=s),$(".js-history-view-more").on("click",function(){o="true"==$(this).attr("data-expanded")?"false":"true",$(".js-history-box").animate({height:e+"px"}),$(this).attr("data-expanded",o),e=156==e?s:156,i="更多"==i?"收起":"更多",$(".js-history-view-more").html(i)})};